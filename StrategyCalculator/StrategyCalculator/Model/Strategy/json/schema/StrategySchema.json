{
  "$schema": "http://json-schema.org/draft-04/schema",
  "title": "JSON Schema for my JSON file format",

  "type": "object",

  "required": ["name"],

  "properties": {
    "name": {
      "type": "string",
      "description": "This shows up in tooltips for the 'name' property."
    },

    "targetTrades": {
      "type": "array",
      "minItems": 1,
      "trade": {
        "type": "object",
        "required": [ "underlying", "optionType", "strikeRatio", "maturityTenor" ],
        "additionalProperties": false,
        "properties": {
          "underlying": {
            "type": "string"
          },
          "tradeType": {
            "type": "string",
            "enum": [ "future", "option" ]
          },
          "optionType": {
            "type": "string",
            "enum": [ "european", "american" ]
          },
          "subType": {
            "type": "string",
            "enum": [ "call", "put" ]
          },
          "strikeRatio": {
            "type": "number"
          },
          "maturityTenor": {
            "type": "string",
            "pattern": "^[1-9][0-9]*(D|BD|W|M|Y)$"
          }
        }
      }
    },

    "settlements": {
      "type": "array",
      "minItems": 1,
      "settlement": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [ "sq", "reversing" ]
          },
          "dateCondition": {
            "type": "string",
            "pattern": "^([1-5](Mon|Thu|Wed|Thu|Fri)|(WKD|TKY|NYK))$"
          },
          "time": {
            "type": "time"
          }
        }
      }
    },

    "positions": {
      "type": "array",
      "minLength": 1,
      "position": {
        "type": "object",
        "properties": {
          "tradeDirection": {
            "type": "string",
            "enum": [ "buy", "sell" ]
          },
          "dateCondition": {
            "type": "string",
            "pattern": "^([1-5](Mon|Thu|Wed|Thu|Fri)|(WKD|TKY|NYK))$"
          },
          "time": {
            "type": "time"
          }
        }
      }
    },

    "hedges": {
      "type": "array",
      "minLength": 0,
      "position": {
        "type": "object",
        "properties": {
          "target": {
            "type": "string",
            "enum": [ "delta", "vega" ]
          },
          "tradeType": {
            "type": "string",
            "enum": ["future", "cash", "strd"]
          },
          "dateCondition": {
            "type": "string",
            "pattern": "^([1-5](Mon|Thu|Wed|Thu|Fri)|(WKD|TKY|NYK))$"
          },
          "time": {
            "type": "time"
          }
        }
      }
    },

    "versions": {
      "type": "array",
      "description": "An array of version numbers.",
      "minItems": 1,
      "items": {
        "type": "number"
      }
    }
  }
}
